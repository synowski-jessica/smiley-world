let wordDictionary = {
  pomme: "ğŸ",
  banane: "ğŸŒ",
  bang: "ğŸ’¥",
  baseball: "âš¾",
  basketball: "ğŸ€",
  biÃ¨re: "ğŸº",
  vÃ©lo: "ğŸš´",
  bombe: "ğŸ’£",
  garÃ§on: "ğŸ‘¦",
  insecte: "ğŸ›",
  burger: "ğŸ”",
  brÃ»ler: "ğŸ”¥",
  gÃ¢teau: "ğŸ‚",
  bonbon: "ğŸ¬",
  chat: "ğŸ±",
  cÃ©lÃ©bration: "ğŸ‰",
  cheeseburger: "ğŸ”",
  cookie: "ğŸª",
  cool: "ğŸ˜",
  pleurer: "ğŸ˜¢",
  chien: "ğŸ¶",
  chienne: "ğŸ•",
  terre: "ğŸŒ",
  exploser: "ğŸ’¥",
  pÃ©ter: "ğŸ’¨",
  rapide: "ğŸ’¨",
  femme: "ğŸ‘©",
  feu: "ğŸ”¥",
  poisson: "ğŸŸ",
  flamme: "ğŸ”¥",
  fleur: "ğŸŒ¹",
  nourriture: "ğŸ•",
  football: "ğŸˆ",
  fille: "ğŸ‘§",
  golf: "â›³",
  hamburger: "ğŸ”",
  heureux: "ğŸ˜€",
  cheval: "ğŸ´",
  baiser: "ğŸ˜˜",
  rire: "ğŸ˜‚",
  allumÃ©: "ğŸ”¥",
  verrou: "ğŸ”’",
  lol: "ğŸ˜‚",
  mÃ¢le: "ğŸ‘¨",
  homme: "ğŸ‘¨",
  singe: "ğŸµ",
  lune: "ğŸŒ™",
  note: "ğŸ“",
  peinture: "ğŸ¨",
  panda: "ğŸ¼",
  fÃªte: "ğŸ‰",
  cochon: "ğŸ·",
  pizza: "ğŸ•",
  planÃ¨te: "ğŸŒ",
  rose: "ğŸŒ¹",
  rofl: "ğŸ˜‚",
  triste: "ğŸ˜¢",
  dormir: "ğŸ˜´",
  sourire: "ğŸ˜€",
  soccer: "âš½",
  Ã©toile: "â­",
  soleil: "â˜€ï¸",
  "lunettes de soleil": "ğŸ˜",
  surpris: "ğŸ˜®",
  arbre: "ğŸŒ²",
  trophÃ©e: "ğŸ†",
  gagner: "ğŸ†",
  vent: "ğŸ’¨",
  vin: "ğŸ·",
  "clin d'Å“il": "ğŸ˜‰",
  monde: "ğŸŒ",
  wow: "ğŸ˜®",
  canard: "ğŸ¦†",
  papillon: "ğŸ¦‹",
  lapins: "ğŸ‡",
  poules: "ğŸ”",
  Ã©cureuil: "ğŸ¿ï¸",
  renard: "ğŸ¦Š",
  chouette: "ğŸ¦‰",
  hÃ©ron: "ğŸ¦¢",
  grenouilles: "ğŸ¸",
  pattes: "ğŸ¾",
  pizza: "ğŸ•",
  hamburger: "ğŸ”",
  frites: "ğŸŸ",
  "hot dog": "ğŸŒ­",
  sandwich: "ğŸ¥ª",
  taco: "ğŸŒ®",
  burrito: "ğŸŒ¯",
  "pop corn": "ğŸ¿",
  sushi: "ğŸ£",
  riz: "ğŸš",
  nouilles: "ğŸœ",
  spaghetti: "ğŸ",
  pain: "ğŸ",
  croissant: "ğŸ¥",
  baguette: "ğŸ¥–",
  fromage: "ğŸ§€",
  bacon: "ğŸ¥“",
  oeuf: "ğŸ³",
  salade: "ğŸ¥—",
  tomate: "ğŸ…",
  carotte: "ğŸ¥•",
  brocoli: "ğŸ¥¦",
  poivron: "ğŸ«‘",
  concombre: "ğŸ¥’",
  aubergine: "ğŸ†",
  haricot: "ğŸŒ±",
  maÃ¯s: "ğŸŒ½",
  "pomme de terre": "ğŸ¥”",
  champignon: "ğŸ„",
  oignon: "ğŸ§…",
  ail: "ğŸ§„",
  poivre: "ğŸ«‘",
  sel: "ğŸ§‚",
  sucre: "ğŸ¬",
  gateau: "ğŸ°",
  glace: "ğŸ¨",
  chocolat: "ğŸ«",
  bonbon: "ğŸ­",
  biscuit: "ğŸª",
  "pain d'Ã©pices": "ğŸ§",
  beignet: "ğŸ©",
  fruit: "ğŸ",
  poire: "ğŸ",
  banane: "ğŸŒ",
  orange: "ğŸŠ",
  citron: "ğŸ‹",
  fraise: "ğŸ“",
  cerise: "ğŸ’",
  pastÃ¨que: "ğŸ‰",
  raisin: "ğŸ‡",
  ananas: "ğŸ",
  mangue: "ğŸ¥­",
  pomme: "ğŸ",
  abricot: "ğŸ‘",
  noix: "ğŸ¥œ",
  noisette: "ğŸŒ°",
  amande: "ğŸŒ°",
  pistache: "ğŸ¥œ",
  kiwi: "ğŸ¥",
  avocat: "ğŸ¥‘",
  grenade: "ğŸ«’",
  figue: "ğŸ«",
  chÃ¢taigne: "ğŸŒ°",
  pÃªche: "ğŸ‘",
  lÃ©gume: "ğŸ¥¬",
  "glace Ã  la vanille": "ğŸ¦",
  "glace au chocolat": "ğŸ¨",
  "glace Ã  la fraise": "ğŸ“",
  sorbet: "ğŸ§",
  yaourt: "ğŸ¥›",
  lait: "ğŸ¥›",
  cafÃ©: "â˜•",
  thÃ©: "ğŸµ",
  jus: "ğŸ§ƒ",
  soda: "ğŸ¥¤",
  biÃ¨re: "ğŸº",
  vin: "ğŸ·",
  cocktail: "ğŸ¹",
  champagne: "ğŸ¾",
  bouteille: "ğŸ¾",
  verre: "ğŸ¥ƒ",
  cuillÃ¨re: "ğŸ¥„",
  fourchette: "ğŸ´",
  couteau: "ğŸ”ª",
  assiette: "ğŸ½ï¸",
  bol: "ğŸ¥£",
  pot: "ğŸ¯",
  poÃªle: "ğŸ³",
  hachoir: "ğŸ”ª",
  thermomÃ¨tre: "ğŸŒ¡ï¸",
  balance: "âš–ï¸",
  coeur: "â¤ï¸",
  rire: "ğŸ˜‚",
  "pleurer de rire": "ğŸ˜…",
  "clin d oeil": "ğŸ˜‰",
  baiser: "ğŸ˜˜",
  surpris: "ğŸ˜®",
  triste: "ğŸ˜¢",
  "en colÃ¨re": "ğŸ˜¡",
  endormi: "ğŸ˜´",
  Ã©toile: "â­",
  soleil: "â˜€ï¸",
  lune: "ğŸŒ™",
  Ã©clair: "âš¡",
  nuage: "â˜ï¸",
  "arc en ciel": "ğŸŒˆ",
  fleur: "ğŸŒ¸",
  cafÃ©: "â˜•",
  gÃ¢teau: "ğŸ‚",
  cadeau: "ğŸ",
  musique: "ğŸµ",
  sport: "âš½",
  livre: "ğŸ“š",
  ordinateur: "ğŸ’»",
  tÃ©lÃ©phone: "ğŸ“±",
  voiture: "ğŸš—",
  avion: "âœˆï¸",
  bateau: "â›µ",
  train: "ğŸš‚",
  vÃ©lo: "ğŸš²",
  maison: "ğŸ ",
  ville: "ğŸ™ï¸",
  plage: "ğŸ–ï¸",
  montagne: "â›°ï¸",
  camping: "â›º",
  "pique-nique": "ğŸ§º",
  feu: "ğŸ”¥",
  eau: "ğŸ’§",
  mÃ©daille: "ğŸ…",
  trophÃ©e: "ğŸ†",
  clÃ©: "ğŸ”‘",
  cadenas: "ğŸ”’",
  loupe: "ğŸ”",
  horloge: "ğŸ•’",
  ampoule: "ğŸ’¡",
  drapeau: "ğŸš©",
  planÃ¨te: "ğŸŒ",
  fusÃ©e: "ğŸš€",
  microscope: "ğŸ”¬",
  tÃ©lescope: "ğŸ”­",
  rouge: "ğŸŸ¥",
  orange: "ğŸŸ§",
  jaune: "ğŸŸ¨",
  vert: "ğŸŸ©",
  bleu: "ğŸŸ¦",
  violet: "ğŸŸª",
  rose: "ğŸŸ«",
  noir: "â¬›",
  blanc: "â¬œ",
  gris: "ğŸŸ¨",
  marron: "ğŸŸ«",
  turquoise: "ğŸŸ¦",
  famille: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",
  maman: "ğŸ‘©",
  papa: "ğŸ‘¨",
  bÃ©bÃ©: "ğŸ‘¶",
  enfant: "ğŸ§’",
  fille: "ğŸ‘§",
  garÃ§on: "ğŸ‘¦",
  "grand mÃ¨re": "ğŸ‘µ",
  "grand pÃ¨re": "ğŸ‘´",
  "femme enceinte": "ğŸ¤°",
  biberon: "ğŸ¼",
  chaise: "ğŸª‘",
  lit: "ğŸ›ï¸",
  doudou: "ğŸ§¸",
  poussin: "ğŸ¥",
  dort: "ğŸ˜´",
  mouton: "ğŸ‘",
  immeuble: "ğŸ¢",
  Ã©cole: "ğŸ«",
  bureau: "ğŸ’¼",
  hÃ´pital: "ğŸ¥",
  banque: "ğŸ¦",
  poste: "ğŸ£",
  Ã©glise: "â›ª",
  mosquÃ©e: "ğŸ•Œ",
  temple: "ğŸ•",
  chÃ¢teau: "ğŸ°",
  musÃ©e: "ğŸ›ï¸",
  cinÃ©ma: "ğŸ¦",
  thÃ©Ã¢tre: "ğŸ­",
  stade: "ğŸŸï¸",
  restaurant: "ğŸ½ï¸",
  cafÃ©: "â˜•",
  bibliothÃ¨que: "ğŸ“š",
  supermarchÃ©: "ğŸ›’",
  aÃ©roport: "ğŸ›«",
  gare: "ğŸš‰",
  "station service": "â›½",
  casino: "ğŸ°",
  voiture: "ğŸš—",
  taxi: "ğŸš•",
  bus: "ğŸšŒ",
  mÃ©tro: "ğŸš‡",
  train: "ğŸš†",
  tramway: "ğŸš‹",
  vÃ©lo: "ğŸš²",
  moto: "ğŸï¸",
  scooter: "ğŸ›µ",
  camion: "ğŸšš",
  avion: "âœˆï¸",
  hÃ©licoptÃ¨re: "ğŸš",
  fusÃ©e: "ğŸš€",
  bateau: "â›µ",
  navire: "ğŸš¢",
  canoÃ«: "ğŸ›¶",
  "sous-marin": "ğŸš¤",
  skateboard: "ğŸ›¹",
  roller: "ğŸ›¼",
  trottinette: "ğŸ›´",
  marche: "ğŸš¶",
  course: "ğŸƒ",
  ski: "â›·ï¸",
  snowboard: "ğŸ‚",
  luge: "ğŸ›·",
  surf: "ğŸ„â€â™‚ï¸",
  natation: "ğŸŠâ€â™‚ï¸",
  plongÃ©e: "ğŸ¤¿",
  escalade: "ğŸ§—",
  parachute: "ğŸª‚",
  "moto neige": "ğŸ‚",
  montgolfiÃ¨re: "ğŸˆ",
  "voiture de course": "ğŸï¸",
  tracteur: "ğŸšœ",
  "voiture de police": "ğŸš“",
  ambulance: "ğŸš‘",
  "camion de pompiers": "ğŸš’",
  "bus scolaire": "ğŸš",
  dent: "ğŸ¦·",
  "t-shirt": "ğŸ‘•",
  chemise: "ğŸ‘”",
  robe: "ğŸ‘—",
  pantalon: "ğŸ‘–",
  veste: "ğŸ§¥",
  "sweat-shirt": "ğŸ‘š",
  "haut de forme": "ğŸ©",
  "maillot de bain": "ğŸ©±",
  bikini: "ğŸ‘™",
  chaussures: "ğŸ‘Ÿ",
  talons: "ğŸ‘ ",
  bottes: "ğŸ‘¢",
  sandales: "ğŸ‘¡",
  chaussettes: "ğŸ§¦",
  nÅ“ud: "ğŸ€",
  casquette: "ğŸ§¢",
  gants: "ğŸ§¤",
  Ã©charpe: "ğŸ§£",
  parapluie: "â˜‚ï¸",
  montre: "âŒš",
  bague: "ğŸ’",
  "sac Ã  main": "ğŸ‘œ",
  "sac Ã  dos": "ğŸ’",
  valise: "ğŸ§³",
  princesse: "ğŸ‘¸",
  roi: "ğŸ¤´",
  couronne: "ğŸ‘‘",
  chÃ¢teau: "ğŸ°",
  danger: "âš ï¸",
  crotte: "ğŸ’©",
  Ã©cureuil: "ğŸ¿ï¸",
  oiseaux: "ğŸ¦",
  seau: "ğŸª£",
};

let wordMap = {};

for (let word in wordDictionary) {
  wordMap[wordDictionary[word]] = word;
}

let originalText = {};

chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {
  let elements = document.querySelectorAll("p, div, span, b, m");

  for (let index = 0; index < elements.length; index++) {
    if (request.method === "translateToEmojis") {
      originalText[index] = elements[index].innerHTML;

      elements[index].innerHTML = elements[index].innerHTML.replace(
        /(\b[\w\u00C0-\u017F]+\b)/gm,
        function (word) {
          let lowerCaseWord = word.toLowerCase();
          let emoji =
            wordDictionary[lowerCaseWord] ||
            wordDictionary[lowerCaseWord.slice(0, -1)];
          return emoji ? `<span class="emoji">${emoji}</span>` : word;
        }
      );
    } else if (request.method === "translateToWords") {
      elements[index].innerHTML =
        originalText[index] || elements[index].innerHTML;
    }
  }
});
